<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ull-esit-inf-dsi-21-22-prct11-async-sockets-alu0101339887</title><meta name="description" content="Documentation for ull-esit-inf-dsi-21-22-prct11-async-sockets-alu0101339887"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">ull-esit-inf-dsi-21-22-prct11-async-sockets-alu0101339887</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1> ull-esit-inf-dsi-21-22-prct11-async-sockets-alu0101339887 </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography"><br>

<p><a href="https://github.com/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct11-async-sockets-alu0101339887/actions/workflows/tests.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct11-async-sockets-alu0101339887/actions/workflows/tests.yml/badge.svg" alt="Tests"></a>
<a href="https://coveralls.io/github/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct11-async-sockets-alu0101339887?branch=main"><img src="https://coveralls.io/repos/github/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct11-async-sockets-alu0101339887/badge.svg?branch=main" alt="Coverage Status"></a>
<a href="https://sonarcloud.io/summary/new_code?id=ULL-ESIT-INF-DSI-2122_ull-esit-inf-dsi-21-22-prct11-async-sockets-alu0101339887"><img src="https://sonarcloud.io/api/project_badges/measure?project=ULL-ESIT-INF-DSI-2122_ull-esit-inf-dsi-21-22-prct11-async-sockets-alu0101339887&metric=alert_status" alt="Quality Gate Status"></a></p>

<a href="#índice" id="índice" style="color: inherit; text-decoration: none;">
  <h1>ÍNDICE</h1>
</a>
<ul>
<li><a href="#id1">INTRODUCCIÓN</a>.</li>
<li><a href="#id2">DESARROLLO</a>.<ul>
<li><a href="#id3">Fichero NoteManage.ts</a>.<ul>
<li><a href="#id4">createPath(...) &amp; getCreatePath(...)</a>.</li>
<li><a href="#id5">addDir() &amp; getAddDir()</a>.</li>
<li><a href="#id6">searchNote(...) &amp; getSearchNote(...)</a>.</li>
<li><a href="#id7">printNote(...) &amp; getPrint(...)</a>.</li>
<li><a href="#id8">addNote(...)</a>.</li>
<li><a href="#id9">editNote(...)</a>.</li>
<li><a href="#id10">deleteNote(...)</a>.</li>
<li><a href="#id11">listNotes(...)</a>.</li>
<li><a href="#id12">readNotes(...)</a>.</li>
</ul>
</li>
<li><a href="#id13">Fichero NoteApp.ts</a>.<ul>
<li><a href="#id14">Comando Add</a>.</li>
<li><a href="#id15">Comando Edit</a>.</li>
<li><a href="#id16">Comando Delete</a>.</li>
<li><a href="#id17">Comando List</a>.</li>
<li><a href="#id18">Comando Read</a>.</li>
</ul>
</li>
<li><a href="#id19">Fichero Client</a>.</li>
<li><a href="#id20">Fichero Server</a>.</li>
</ul>
</li>
<li><a href="#id21">EJEMPLOS DE EJECUCIÓN</a>.<ul>
<li><a href="#id22">Servidor</a>.</li>
<li><a href="#id23">Cliente</a>.</li>
</ul>
</li>
<li><a href="#id24">CONCLUSIÓN</a>.</li>
</ul>

<a href="#introducción" id="introducción" style="color: inherit; text-decoration: none;">
  <h1>INTRODUCCIÓN<a name="id1"></a></h1>
</a>
<p>En esta práctica se deberá crear una API que permita al usuario manejar y administrar notas de texto a partir de la que ha se había creado en la anterior práctica (Práctica 9), sin embargo, en esta práctica se hará haciendo uso de peticiones del cliente a un servidor y, este, ejecutará los comandos que el usuario indique.  </p>
<p>Para ello tendremos que crear varios ficheros, que podremos encontrarlos dentro del directorio <em>/EjercicioP11</em>. Por otra parte, en el directorio <em>/LAB</em> podremos encontrar resuelto el ejercicio propuesto en la hora de prácticas. A su vez, ambos directorios estarán ubicados dentro del directorio <em>/src</em>.</p>
<p>Por otro lado, también se creará la documentación, de forma automática, de todos los ejercicios que hayamos realizado haciendo uso de TypeDoc. Podremos consultar la documentación pulsando sobre el siguiente <a href="https://github.com/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct11-async-sockets-alu0101339887/tree/main/docs"><em>enlace</em></a> que le llevará al fichero o accediendo manualmente al directorio <em>/docs</em>.</p>
<p>Además, podrá acceder a la página web del informe pulsando sobre este <a href="https://ull-esit-inf-dsi-2122.github.io/ull-esit-inf-dsi-21-22-prct11-async-sockets-alu0101339887/"><em>enlace</em></a>.</p>

<a href="#desarrollo" id="desarrollo" style="color: inherit; text-decoration: none;">
  <h1>DESARROLLO<a name="id2"></a></h1>
</a>

<a href="#fichero-notemanagets" id="fichero-notemanagets" style="color: inherit; text-decoration: none;">
  <h2>Fichero NoteManage.ts<a name="id3"></a></h2>
</a>
<p>En este primer fichero (<a href="https://github.com/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct11-async-sockets-alu0101339887/blob/main/src/EjercicioP11/AppCode/NoteManage.ts">NoteManage.ts</a>) se encuentra la lógica de la aplicación. En ella se encuentra la clase NotesManage, que es la que se encargará de gestionar las notas. En ella se encuentran algunas de las funciones que servirán para administrar las notas de cada uno de los usuarios, como por ejemplo para crear, leer, actualizar y borrar notas.</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">NoteManage</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">ruta</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">ruta</span><span class="hl-1"> = </span><span class="hl-5">&#39;&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-6">// Code here ...</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#createpath-amp-getcreatepath" id="createpath-amp-getcreatepath" style="color: inherit; text-decoration: none;">
  <h3>createPath(...) &amp; getCreatePath(...)<a name="id4"></a></h3>
</a>
<p>Con esta función se podrá establecer la ruta en la que se encuentran las notas dependiendo del usuario.</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-7">createPath</span><span class="hl-1">(</span><span class="hl-4">usuario</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">): </span><span class="hl-2">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">ruta</span><span class="hl-1"> = </span><span class="hl-5">`./Notes/</span><span class="hl-2">${</span><span class="hl-4">usuario</span><span class="hl-2">}</span><span class="hl-5">`</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span>
</code></pre>
<blockquote>
<blockquote>
<p>Nota: Para poder realizar las pruebas de esta función se debe crear una función pública que llame a la función <strong>createPath(...)</strong>, ya que esta última es privada.</p>
</blockquote>
</blockquote>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-7">getCreatePath</span><span class="hl-1">(</span><span class="hl-4">usuario</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">createPath</span><span class="hl-1">(</span><span class="hl-4">usuario</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span>
</code></pre>

<a href="#adddir-amp-getadddir" id="adddir-amp-getadddir" style="color: inherit; text-decoration: none;">
  <h3>addDir() &amp; getAddDir()<a name="id5"></a></h3>
</a>
<p>Con esta función se podrá crear el directorio correspondiente al usuario que quiera administrar sus notas. </p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-7">addDir</span><span class="hl-1">(): </span><span class="hl-2">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-4">fs</span><span class="hl-1">.</span><span class="hl-7">existsSync</span><span class="hl-1">(</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">ruta</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-4">fs</span><span class="hl-1">.</span><span class="hl-7">mkdirSync</span><span class="hl-1">(</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">ruta</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span>
</code></pre>
<blockquote>
<blockquote>
<p>Nota: Para poder realizar las pruebas de esta función se debe crear una función pública que llame a la función <strong>addDir()</strong>, ya que esta última es privada.</p>
</blockquote>
</blockquote>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-7">getAddDir</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">addDir</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span>
</code></pre>

<a href="#searchnote-amp-getsearchnote" id="searchnote-amp-getsearchnote" style="color: inherit; text-decoration: none;">
  <h3>searchNote(...) &amp; getSearchNote(...)<a name="id6"></a></h3>
</a>
<p>Con esta función se podrá analizar y comprobar si la nota ya existe en el directorio del usuario.</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-7">searchNote</span><span class="hl-1">(</span><span class="hl-4">title</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">): </span><span class="hl-4">boolean</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">fs</span><span class="hl-1">.</span><span class="hl-7">existsSync</span><span class="hl-1">(</span><span class="hl-5">`</span><span class="hl-2">${</span><span class="hl-2">this</span><span class="hl-8">.</span><span class="hl-4">ruta</span><span class="hl-2">}</span><span class="hl-5">/</span><span class="hl-2">${</span><span class="hl-4">title</span><span class="hl-2">}</span><span class="hl-5">.json`</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">false</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span>
</code></pre>
<blockquote>
<blockquote>
<p>Nota: Para poder realizar las pruebas de esta función se debe crear una función pública que llame a la función <strong>searchNote(...)</strong>, ya que esta última es privada.</p>
</blockquote>
</blockquote>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-7">getSearchNote</span><span class="hl-1">(</span><span class="hl-4">title</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">searchNote</span><span class="hl-1">(</span><span class="hl-4">title</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span>
</code></pre>

<a href="#printnote-amp-getprint" id="printnote-amp-getprint" style="color: inherit; text-decoration: none;">
  <h3>printNote(...) &amp; getPrint(...)<a name="id7"></a></h3>
</a>
<p>Gracias a esta función, el usuario podrá visualizar la nota elegida según el formato establecido. </p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-7">printNote</span><span class="hl-1">(</span><span class="hl-4">title</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">body</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">color</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">): </span><span class="hl-2">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">text</span><span class="hl-1"> = </span><span class="hl-5">`</span><span class="hl-2">${</span><span class="hl-4">title</span><span class="hl-2">}</span><span class="hl-10">\n</span><span class="hl-2">${</span><span class="hl-4">body</span><span class="hl-2">}</span><span class="hl-5">`</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">color</span><span class="hl-1"> === </span><span class="hl-5">&#39;red&#39;</span><span class="hl-1"> || </span><span class="hl-4">color</span><span class="hl-1"> === </span><span class="hl-5">&#39;rojo&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-7">red</span><span class="hl-1">(</span><span class="hl-4">text</span><span class="hl-1">));</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">color</span><span class="hl-1"> === </span><span class="hl-5">&#39;green&#39;</span><span class="hl-1"> || </span><span class="hl-4">color</span><span class="hl-1"> === </span><span class="hl-5">&#39;verde&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-7">green</span><span class="hl-1">(</span><span class="hl-4">text</span><span class="hl-1">));</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">color</span><span class="hl-1"> === </span><span class="hl-5">&#39;blue&#39;</span><span class="hl-1"> || </span><span class="hl-4">color</span><span class="hl-1"> === </span><span class="hl-5">&#39;azul&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-7">blue</span><span class="hl-1">(</span><span class="hl-4">text</span><span class="hl-1">));</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">color</span><span class="hl-1"> === </span><span class="hl-5">&#39;yellow&#39;</span><span class="hl-1"> || </span><span class="hl-4">color</span><span class="hl-1"> === </span><span class="hl-5">&#39;amarillo&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-7">yellow</span><span class="hl-1">(</span><span class="hl-4">text</span><span class="hl-1">));</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-7">white</span><span class="hl-1">(</span><span class="hl-4">text</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-7">red</span><span class="hl-1">(</span><span class="hl-5">`El color </span><span class="hl-2">${</span><span class="hl-4">color</span><span class="hl-2">}</span><span class="hl-5"> no disponible`</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span>
</code></pre>
<blockquote>
<blockquote>
<p>Nota: Para poder realizar las pruebas de esta función se debe crear una función pública que llame a la función <strong>printNote(...)</strong>, ya que esta última es privada.</p>
</blockquote>
</blockquote>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-7">getPrint</span><span class="hl-1">(</span><span class="hl-4">title</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">body</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">color</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">printNote</span><span class="hl-1">(</span><span class="hl-4">title</span><span class="hl-1">, </span><span class="hl-4">body</span><span class="hl-1">, </span><span class="hl-4">color</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span>
</code></pre>

<a href="#addnote" id="addnote" style="color: inherit; text-decoration: none;">
  <h3>addNote(...)<a name="id8"></a></h3>
</a>
<p>Haciendo uso de esta función, el usuario podrá añadir una nueva nota al sistema. La nota se guardará con las especificaciones que el usuario indique en la línea de comandos a la hora de crearla. Además, en caso de que la nota ya exista, se mostrará un mensaje de error.</p>
<ul>
<li><strong>user</strong>: Autor de la nota.</li>
<li><strong>title</strong>: Título de la nota.</li>
<li><strong>body</strong>: Cuerpo de la nota.</li>
<li><strong>col</strong>: Color de la nota.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-7">addNote</span><span class="hl-1">(</span><span class="hl-4">user</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">title</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">body</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">col</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">): </span><span class="hl-2">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">createPath</span><span class="hl-1">(</span><span class="hl-4">user</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">addDir</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">filePath</span><span class="hl-1"> = </span><span class="hl-5">`</span><span class="hl-2">${</span><span class="hl-2">this</span><span class="hl-8">.</span><span class="hl-4">ruta</span><span class="hl-2">}</span><span class="hl-5">/</span><span class="hl-2">${</span><span class="hl-4">title</span><span class="hl-2">}</span><span class="hl-5">.json`</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">searchNote</span><span class="hl-1">(</span><span class="hl-4">title</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-4">fs</span><span class="hl-1">.</span><span class="hl-7">writeFileSync</span><span class="hl-1">(</span><span class="hl-4">filePath</span><span class="hl-1">, </span><span class="hl-3">JSON</span><span class="hl-1">.</span><span class="hl-7">stringify</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-4">title</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">body:</span><span class="hl-1"> </span><span class="hl-4">body</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">color:</span><span class="hl-1"> </span><span class="hl-4">col</span><span class="hl-1">,</span><br/><span class="hl-1">      }));</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-7">green</span><span class="hl-1">(</span><span class="hl-5">&#39;Nota guardada correctamente&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-7">red</span><span class="hl-1">(</span><span class="hl-5">&#39;La nota ya existe&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span>
</code></pre>

<a href="#editnote" id="editnote" style="color: inherit; text-decoration: none;">
  <h3>editNote(...)<a name="id9"></a></h3>
</a>
<p>A partir de esta función, el usuario podrá editar cualquiera de las notas que se encuentren en el directorio del usuario. En caso de no existir la nota se mostrará un mensaje de error.</p>
<ul>
<li><strong>user</strong>: Autor de la nota.</li>
<li><strong>title</strong>: Título de la nota.</li>
<li><strong>bod</strong>: Cuerpo de la nota.</li>
<li><strong>col</strong>: Color de la nota.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-7">editNote</span><span class="hl-1">(</span><span class="hl-4">user</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">title</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">bod</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">col</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">): </span><span class="hl-2">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">createPath</span><span class="hl-1">(</span><span class="hl-4">user</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">searchNote</span><span class="hl-1">(</span><span class="hl-4">title</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">filePath</span><span class="hl-1"> = </span><span class="hl-5">`</span><span class="hl-2">${</span><span class="hl-2">this</span><span class="hl-8">.</span><span class="hl-4">ruta</span><span class="hl-2">}</span><span class="hl-5">/</span><span class="hl-2">${</span><span class="hl-4">title</span><span class="hl-2">}</span><span class="hl-5">.json`</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">note_</span><span class="hl-1"> = </span><span class="hl-3">JSON</span><span class="hl-1">.</span><span class="hl-7">parse</span><span class="hl-1">(</span><span class="hl-4">fs</span><span class="hl-1">.</span><span class="hl-7">readFileSync</span><span class="hl-1">(</span><span class="hl-4">filePath</span><span class="hl-1">, </span><span class="hl-5">&#39;utf8&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-4">note_</span><span class="hl-1">.</span><span class="hl-4">body</span><span class="hl-1"> = </span><span class="hl-4">bod</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-4">note_</span><span class="hl-1">.</span><span class="hl-4">color</span><span class="hl-1"> = </span><span class="hl-4">col</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-4">fs</span><span class="hl-1">.</span><span class="hl-7">writeFileSync</span><span class="hl-1">(</span><span class="hl-4">filePath</span><span class="hl-1">, </span><span class="hl-3">JSON</span><span class="hl-1">.</span><span class="hl-7">stringify</span><span class="hl-1">(</span><span class="hl-4">note_</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-7">green</span><span class="hl-1">(</span><span class="hl-5">&#39;Nota actualizada correctamente&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-7">red</span><span class="hl-1">(</span><span class="hl-5">&#39;La nota no existe&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span>
</code></pre>

<a href="#deletenote" id="deletenote" style="color: inherit; text-decoration: none;">
  <h3>deleteNote(...)<a name="id10"></a></h3>
</a>
<p>Con este método, el usuario podrá eliminar cualquiera de las notas que se encuentren en el directorio de este. En caso de no existir la nota se mostrará un mensaje de error.</p>
<ul>
<li><strong>user</strong>: Autor de la nota.</li>
<li><strong>title</strong>: Título de la nota.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-7">deleteNote</span><span class="hl-1">(</span><span class="hl-4">user</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">title</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">): </span><span class="hl-2">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">createPath</span><span class="hl-1">(</span><span class="hl-4">user</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">searchNote</span><span class="hl-1">(</span><span class="hl-4">title</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">filePath</span><span class="hl-1"> = </span><span class="hl-5">`</span><span class="hl-2">${</span><span class="hl-2">this</span><span class="hl-8">.</span><span class="hl-4">ruta</span><span class="hl-2">}</span><span class="hl-5">/</span><span class="hl-2">${</span><span class="hl-4">title</span><span class="hl-2">}</span><span class="hl-5">.json`</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-4">fs</span><span class="hl-1">.</span><span class="hl-7">unlinkSync</span><span class="hl-1">(</span><span class="hl-4">filePath</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-7">green</span><span class="hl-1">(</span><span class="hl-5">&#39;Nota eliminada correctamente&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-7">red</span><span class="hl-1">(</span><span class="hl-5">&#39;La nota no existe&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span>
</code></pre>

<a href="#listnotes" id="listnotes" style="color: inherit; text-decoration: none;">
  <h3>listNotes(...)<a name="id11"></a></h3>
</a>
<p>Con este método, el usuario podrá mostrar los títulos de todas las notas que se encuentren en el directorio de este. En caso de no existir ninguna nota se mostrará un mensaje de error o, en caso de que el usuario no exista también se mostrará un mensaje de error.</p>
<ul>
<li><strong>user</strong>: Autor de la nota.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-7">listNotes</span><span class="hl-1">(</span><span class="hl-4">user</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">): </span><span class="hl-2">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">createPath</span><span class="hl-1">(</span><span class="hl-4">user</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">fs</span><span class="hl-1">.</span><span class="hl-7">existsSync</span><span class="hl-1">(</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">ruta</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">notes</span><span class="hl-1"> = </span><span class="hl-4">fs</span><span class="hl-1">.</span><span class="hl-7">readdirSync</span><span class="hl-1">(</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">ruta</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">notes</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1"> === </span><span class="hl-11">0</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-7">red</span><span class="hl-1">(</span><span class="hl-5">&#39;El usuario no tiene notas&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">      } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-7">green</span><span class="hl-1">(</span><span class="hl-5">&#39;Listado de notas:&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">        </span><span class="hl-4">notes</span><span class="hl-1">.</span><span class="hl-7">forEach</span><span class="hl-1">((</span><span class="hl-4">note</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-7">white</span><span class="hl-1">(</span><span class="hl-4">note</span><span class="hl-1">));</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-7">red</span><span class="hl-1">(</span><span class="hl-5">&#39;El usuario no existe&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span>
</code></pre>

<a href="#readnote" id="readnote" style="color: inherit; text-decoration: none;">
  <h3>readNote(...)<a name="id12"></a></h3>
</a>
<p>Con este método, el usuario podrá leer el contenido de una nota que se encuentren en el directorio de este. En caso de no existir la nota se mostrará un mensaje de error. </p>
<ul>
<li><strong>user</strong>: Autor de la nota.</li>
<li><strong>title</strong>: Título de la nota.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-7">readNote</span><span class="hl-1">(</span><span class="hl-4">user</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">title</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">): </span><span class="hl-2">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">createPath</span><span class="hl-1">(</span><span class="hl-4">user</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">searchNote</span><span class="hl-1">(</span><span class="hl-4">title</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">note</span><span class="hl-1"> = </span><span class="hl-4">fs</span><span class="hl-1">.</span><span class="hl-7">readFileSync</span><span class="hl-1">(</span><span class="hl-5">`</span><span class="hl-2">${</span><span class="hl-2">this</span><span class="hl-8">.</span><span class="hl-4">ruta</span><span class="hl-2">}</span><span class="hl-5">/</span><span class="hl-2">${</span><span class="hl-4">title</span><span class="hl-2">}</span><span class="hl-5">.json`</span><span class="hl-1">, </span><span class="hl-5">&#39;utf-8&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">note_</span><span class="hl-1"> = </span><span class="hl-3">JSON</span><span class="hl-1">.</span><span class="hl-7">parse</span><span class="hl-1">(</span><span class="hl-4">note</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">body</span><span class="hl-1"> = </span><span class="hl-4">note_</span><span class="hl-1">.</span><span class="hl-4">body</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">color</span><span class="hl-1"> = </span><span class="hl-4">note_</span><span class="hl-1">.</span><span class="hl-4">color</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">printNote</span><span class="hl-1">(</span><span class="hl-4">title</span><span class="hl-1">, </span><span class="hl-4">body</span><span class="hl-1">, </span><span class="hl-4">color</span><span class="hl-1">);</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">chalk</span><span class="hl-1">.</span><span class="hl-7">red</span><span class="hl-1">(</span><span class="hl-5">&#39;La nota no existe&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span>
</code></pre>

<a href="#fichero-noteappts" id="fichero-noteappts" style="color: inherit; text-decoration: none;">
  <h2>Fichero NoteApp.ts<a name="id13"></a></h2>
</a>
<p>En este fichero (<a href="https://github.com/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct11-async-sockets-alu0101339887/blob/main/src/EjercicioP11/AppCode/NoteApp.ts">NoteApp.ts</a>) podremos encontrar todos los comandos que el usuario podrá ejecutar en la aplicación. Entre ellos podremos encontrar algunos comandos como por ejemplo: <code>add</code>, <code>list</code>, <code>read</code>, <code>edit</code> y <code>delete</code>.</p>

<a href="#comando-add" id="comando-add" style="color: inherit; text-decoration: none;">
  <h3>Comando Add<a name="id14"></a></h3>
</a>
<p>A la hora de ejecutar este comando, el usuario tendrá que añadir los siguientes parámetros:</p>
<ul>
<li><strong>user</strong>: Autor de la nota.</li>
<li><strong>title</strong>: Título de la nota.</li>
<li><strong>body</strong>: Cuerpo de la nota.</li>
<li><strong>color</strong>: Color de la nota.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-4">yargs</span><span class="hl-1">.</span><span class="hl-7">command</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">command:</span><span class="hl-1"> </span><span class="hl-5">&#39;add&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Añade una nueva nota&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">builder:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">user:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Autor de la nota&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">title:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Título de la nota&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">body:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Cuerpo de la nota&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">color:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Color de la nota&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-7">handler</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">argv</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">// code here ...</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code></pre>

<a href="#comando-edit" id="comando-edit" style="color: inherit; text-decoration: none;">
  <h3>Comando Edit<a name="id15"></a></h3>
</a>
<p>A la hora de ejecutar este comando, el usuario tendrá que añadir los siguientes parámetros:</p>
<ul>
<li><strong>user</strong>: Autor de la nota.</li>
<li><strong>title</strong>: Título de la nota.</li>
<li><strong>body</strong>: Cuerpo de la nota.</li>
<li><strong>color</strong>: Color de la nota.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-4">yargs</span><span class="hl-1">.</span><span class="hl-7">command</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">command:</span><span class="hl-1"> </span><span class="hl-5">&#39;edit&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Edita una nota&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">builder:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">user:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Autor de la nota&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">title:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Título de la nota&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">body:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Cuerpo de la nota&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">color:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Color de la nota&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-7">handler</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">argv</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">// code here ...</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code></pre>

<a href="#comando-delete" id="comando-delete" style="color: inherit; text-decoration: none;">
  <h3>Comando Delete<a name="id16"></a></h3>
</a>
<p>A la hora de ejecutar este comando, el usuario tendrá que añadir los siguientes parámetros:</p>
<ul>
<li><strong>user</strong>: Autor de la nota.</li>
<li><strong>title</strong>: Título de la nota.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-4">yargs</span><span class="hl-1">.</span><span class="hl-7">command</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">command:</span><span class="hl-1"> </span><span class="hl-5">&#39;delete&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Elimina una nota&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">builder:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">user:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Autor de la nota&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">title:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Título de la nota&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-7">handler</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">argv</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">// code here ...</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code></pre>

<a href="#comando-list" id="comando-list" style="color: inherit; text-decoration: none;">
  <h3>Comando List<a name="id17"></a></h3>
</a>
<p>A la hora de ejecutar este comando, el usuario tendrá que añadir los siguientes parámetros:</p>
<ul>
<li><strong>user</strong>: Autor de la nota.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-4">yargs</span><span class="hl-1">.</span><span class="hl-7">command</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">command:</span><span class="hl-1"> </span><span class="hl-5">&#39;list&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Lista las notas del directorio del usuarios&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">builder:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">user:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Autor de la nota&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-7">handler</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">argv</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">// code here ...</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code></pre>

<a href="#comando-read" id="comando-read" style="color: inherit; text-decoration: none;">
  <h3>Comando Read<a name="id18"></a></h3>
</a>
<p>A la hora de ejecutar este comando, el usuario tendrá que añadir los siguientes parámetros:</p>
<ul>
<li><strong>user</strong>: Autor de la nota.</li>
<li><strong>title</strong>: Título de la nota.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-4">yargs</span><span class="hl-1">.</span><span class="hl-7">command</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">command:</span><span class="hl-1"> </span><span class="hl-5">&#39;read&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Lee una nota&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">builder:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">user:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Autor de la nota&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">title:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">describe:</span><span class="hl-1"> </span><span class="hl-5">&#39;Título de la nota&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">demandOption:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-7">handler</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">argv</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">// code here ...</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code></pre>
<blockquote>
<blockquote>
<p>En el handler de cada uno de los comandos, se enviará el mensaje con el comando al servidor y, posteriormente, el servidor se encargará de crear la nota en el directorio de este. Por otro lado, en caso de que surja un error, se mostrará un mensaje de error.</p>
</blockquote>
</blockquote>
<pre><code class="language-typescript"><span class="hl-4">yargs</span><span class="hl-1">.</span><span class="hl-7">command</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">// code here ...</span><br/><span class="hl-1">  </span><span class="hl-7">handler</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">argv</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">typeof</span><span class="hl-1"> </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">title</span><span class="hl-1"> === </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1"> &amp;&amp;</span><br/><span class="hl-1">        </span><span class="hl-2">typeof</span><span class="hl-1"> </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">body</span><span class="hl-1"> === </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1"> &amp;&amp;</span><br/><span class="hl-1">        </span><span class="hl-2">typeof</span><span class="hl-1"> </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">user</span><span class="hl-1"> === </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1"> &amp;&amp;</span><br/><span class="hl-1">        </span><span class="hl-2">typeof</span><span class="hl-1"> </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">color</span><span class="hl-1"> === </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-5">&#39;Editando nota...&#39;</span><span class="hl-1">); </span><span class="hl-6">// Mensaje de espera</span><br/><span class="hl-1">      </span><span class="hl-4">noteManage</span><span class="hl-1">.</span><span class="hl-7">editNote</span><span class="hl-1">(</span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">user</span><span class="hl-1">, </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">title</span><span class="hl-1">, </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">body</span><span class="hl-1">, </span><span class="hl-4">argv</span><span class="hl-1">.</span><span class="hl-4">color</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code></pre>

<a href="#fichero-client" id="fichero-client" style="color: inherit; text-decoration: none;">
  <h2>Fichero Client<a name="id19"></a></h2>
</a>
<p>En este fichero se encuentra la clase ClientEmiter, que se encarga de conectar un cliente con el servidor. </p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Client</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">EventEmitter</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-4">event</span><span class="hl-1">: </span><span class="hl-3">EventEmitter</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">super</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-6">// code here ...</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Para ello se analizarán cuatro eventos distintos:</p>
<ul>
<li><p><strong>data</strong>: Cuando se manda un mensaje.</p>
<pre><code class="language-typescript"><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">msj</span><span class="hl-1"> = </span><span class="hl-5">&#39;&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">event</span><span class="hl-1">.</span><span class="hl-7">on</span><span class="hl-1">(</span><span class="hl-5">&#39;data&#39;</span><span class="hl-1">, (</span><span class="hl-4">data</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">msj</span><span class="hl-1"> += </span><span class="hl-4">data</span><span class="hl-1">.</span><span class="hl-7">toString</span><span class="hl-1">();</span><br/><span class="hl-1">});</span>
</code></pre>
</li>
<li><p><strong>end</strong>: Cuando se ha finalizado el envío de datos.</p>
<pre><code class="language-typescript"><span class="hl-4">event</span><span class="hl-1">.</span><span class="hl-7">on</span><span class="hl-1">(</span><span class="hl-5">&#39;end&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">emit</span><span class="hl-1">(</span><span class="hl-5">&#39;response&#39;</span><span class="hl-1">, </span><span class="hl-4">msj</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">msj</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code></pre>
</li>
<li><p><strong>close</strong>: Cuando se cierra la conexión.</p>
<pre><code class="language-typescript"><span class="hl-4">event</span><span class="hl-1">.</span><span class="hl-7">on</span><span class="hl-1">(</span><span class="hl-5">&#39;close&#39;</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-5">&#39;Conexión cerrada&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code></pre>
</li>
<li><p><strong>error</strong>: Cuando se produce un error.</p>
<pre><code class="language-typescript"><span class="hl-4">event</span><span class="hl-1">.</span><span class="hl-7">on</span><span class="hl-1">(</span><span class="hl-5">&#39;error&#39;</span><span class="hl-1">, (</span><span class="hl-4">err</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">err</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code></pre>
</li>
</ul>

<a href="#fichero-server" id="fichero-server" style="color: inherit; text-decoration: none;">
  <h2>Fichero Server<a name="id20"></a></h2>
</a>
<p>En este fichero se encontrará creada la clase Server, que se encarga de escuchar en un puerto determinado y, cuando se conecta un cliente, dependiendo de la acción que se le indique, se ejecutará una función. Por otra parte, en caso de que se produzca un error, se mostrará un mensaje de error.</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Server</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">server</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">port</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">server</span><span class="hl-1"> = </span><span class="hl-4">net</span><span class="hl-1">.</span><span class="hl-7">createServer</span><span class="hl-1">((</span><span class="hl-4">socket</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-6">// code here ...</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-7">listen</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">server</span><span class="hl-1">.</span><span class="hl-7">listen</span><span class="hl-1">(</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">port</span><span class="hl-1">, () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-5">&#39;Servidor iniciado&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Algunos de los eventos que se escuchan desde el servidor son los siguientes:</p>
<ul>
<li><p>Evendo <strong>data</strong>: Este evento se activa cuando se recibe un mensaje. </p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">msj</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-5">&#39;&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">socket</span><span class="hl-1">.</span><span class="hl-7">on</span><span class="hl-1">(</span><span class="hl-5">&#39;data&#39;</span><span class="hl-1">, (</span><span class="hl-4">data</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">msj</span><span class="hl-1"> += </span><span class="hl-4">data</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">cmd</span><span class="hl-1"> = </span><span class="hl-3">JSON</span><span class="hl-1">.</span><span class="hl-7">parse</span><span class="hl-1">(</span><span class="hl-4">msj</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">manage</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-7">NoteManage</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-5">&#39;  El cliente envió: &#39;</span><span class="hl-1"> + </span><span class="hl-4">cmd</span><span class="hl-1">.</span><span class="hl-4">_</span><span class="hl-1">[</span><span class="hl-11">0</span><span class="hl-1">].</span><span class="hl-7">toString</span><span class="hl-1">());</span><br/><span class="hl-1">    </span><span class="hl-6">// code here ...</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-5">&#39;Respuesta enviada&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">socket</span><span class="hl-1">.</span><span class="hl-7">end</span><span class="hl-1">();</span><br/><span class="hl-1">  });</span>
</code></pre>
</li>
</ul>
<p>  Las funciones que se ejecutan son:</p>
<pre><code><span class="hl-1">- **</span><span class="hl-4">add</span><span class="hl-1">**: </span><span class="hl-4">Se</span><span class="hl-1"> </span><span class="hl-4">añade</span><span class="hl-1"> </span><span class="hl-4">una</span><span class="hl-1"> </span><span class="hl-4">nota</span><span class="hl-1">.</span><br/><span class="hl-1">  </span><span class="hl-5">```typescript</span><br/><span class="hl-5">    if (cmd._[0] === &#39;add&#39;) {</span><br/><span class="hl-5">      manage.addNote(cmd.user, cmd.title, cmd.body, cmd.color);</span><br/><span class="hl-5">    }</span><br/><span class="hl-5">  ```</span><br/><br/><span class="hl-1">- **</span><span class="hl-4">edit</span><span class="hl-1">**: </span><span class="hl-4">Se</span><span class="hl-1"> </span><span class="hl-4">edita</span><span class="hl-1"> </span><span class="hl-4">una</span><span class="hl-1"> </span><span class="hl-4">nota</span><span class="hl-1">.</span><br/><span class="hl-1">  </span><span class="hl-5">```typescript</span><br/><span class="hl-5">    else if (cmd._[0] === &#39;edit&#39;) {</span><br/><span class="hl-5">      manage.editNote(cmd.args[0], cmd.args[1], cmd.args[2], cmd.args[3]);</span><br/><span class="hl-5">    }</span><br/><span class="hl-5">  ```</span><br/><br/><span class="hl-1">- **</span><span class="hl-2">delete</span><span class="hl-1">**: </span><span class="hl-4">Se</span><span class="hl-1"> </span><span class="hl-4">elimina</span><span class="hl-1"> </span><span class="hl-4">una</span><span class="hl-1"> </span><span class="hl-4">nota</span><span class="hl-1">.</span><br/><span class="hl-1">  </span><span class="hl-5">```typescript</span><br/><span class="hl-5">    else if (cmd._[0] === &#39;delete&#39;) {</span><br/><span class="hl-5">      manage.deleteNote(cmd.args[0], cmd.args[1]);</span><br/><span class="hl-5">    }</span><br/><span class="hl-5">  ```</span><br/><br/><span class="hl-1">- **</span><span class="hl-4">list</span><span class="hl-1">**: </span><span class="hl-4">Se</span><span class="hl-1"> </span><span class="hl-4">listan</span><span class="hl-1"> </span><span class="hl-4">las</span><span class="hl-1"> </span><span class="hl-4">notas</span><span class="hl-1">.</span><br/><span class="hl-1">  </span><span class="hl-5">```typescript</span><br/><span class="hl-5">    else if (cmd._[0] === &#39;list&#39;) {</span><br/><span class="hl-5">      manage.listNotes(cmd.args[0]);</span><br/><span class="hl-5">    }</span><br/><span class="hl-5">  ```</span><br/><br/><span class="hl-1">- **</span><span class="hl-4">read</span><span class="hl-1">**: </span><span class="hl-4">Se</span><span class="hl-1"> </span><span class="hl-4">lee</span><span class="hl-1"> </span><span class="hl-4">una</span><span class="hl-1"> </span><span class="hl-4">nota</span><span class="hl-1">.</span><br/><span class="hl-1">  </span><span class="hl-5">```typescript</span><br/><span class="hl-5">    else if (cmd._[0] === &#39;read&#39;) {</span><br/><span class="hl-5">      manage.readNote(cmd.args[0], cmd.args[1]);</span><br/><span class="hl-5">    }</span><br/><span class="hl-5">  ```</span>
</code></pre>
<blockquote>
<blockquote>
<p>En caso de que el usuario no introduzca un comando válido, se mostrará un mensaje de error.</p>
</blockquote>
</blockquote>
<pre><code class="language-typescript"><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-5">&#39;Comando no reconocido&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">socket</span><span class="hl-1">.</span><span class="hl-7">write</span><span class="hl-1">(</span><span class="hl-5">&#39;Comando no reconocido&#39;</span><span class="hl-1">);</span>
</code></pre>
<p>A partir de esto de creará una instancia de ServerEmitter, que se encargará de conectar el servidor y ponerlo a la espera de que algún usuario se conecte.</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-4">ServerEmitter</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-5">&#39;./Emitter/ServerEmitter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-9">srv</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-7">ServerEmitter</span><span class="hl-1">(</span><span class="hl-11">3000</span><span class="hl-1">);</span><br/><span class="hl-4">srv</span><span class="hl-1">.</span><span class="hl-7">listen</span><span class="hl-1">();</span>
</code></pre>

<a href="#ejemplos-de-ejecución" id="ejemplos-de-ejecución" style="color: inherit; text-decoration: none;">
  <h1>EJEMPLOS DE EJECUCIÓN<a name="id21"></a></h1>
</a>

<a href="#servidor" id="servidor" style="color: inherit; text-decoration: none;">
  <h2>Servidor<a name="id22"></a></h2>
</a>
<pre><code class="language-bash"><span class="hl-1">$ node dist/EjercicioP11/Server.js</span>
</code></pre>

<a href="#cliente" id="cliente" style="color: inherit; text-decoration: none;">
  <h2>Cliente<a name="id23"></a></h2>
</a>
<pre><code class="language-bash"><span class="hl-4">$node</span><span class="hl-1"> dist/EjercicioP11/AppCode/NoteApp.js add --user=</span><span class="hl-5">&quot;Usuario&quot;</span><span class="hl-1"> --title=</span><span class="hl-5">&quot;Red note&quot;</span><span class="hl-1"> --body=</span><span class="hl-5">&quot;This is a red note&quot;</span><span class="hl-1"> --color=</span><span class="hl-5">&quot;red&quot;</span><br/><span class="hl-4">$node</span><span class="hl-1"> dist/EjercicioP11/AppCode/NoteApp.js list --user=</span><span class="hl-5">&quot;Usuario&quot;</span><br/><span class="hl-4">$node</span><span class="hl-1"> dist/EjercicioP11/AppCode/NoteApp.js </span><span class="hl-7">read</span><span class="hl-1"> --user=</span><span class="hl-5">&quot;Usuario&quot;</span><span class="hl-1"> --title=</span><span class="hl-5">&quot;Red note&quot;</span><br/><span class="hl-4">$node</span><span class="hl-1"> dist/EjercicioP11/AppCode/NoteApp.js remove --user=</span><span class="hl-5">&quot;Usuario&quot;</span><span class="hl-1"> --title=</span><span class="hl-5">&quot;Red note&quot;</span>
</code></pre>

<a href="#conclusión" id="conclusión" style="color: inherit; text-decoration: none;">
  <h1>CONCLUSIÓN<a name="id24"></a></h1>
</a>
<p>En conclusión, podemos comentar que gracias a la librería <code>yargs</code> podemos crear una aplicación de notas, que nos permita añadir, leer, eliminar y listar notas.</p>
<p>Además de esto, es posible visualizar los mensajes de error e informativos asignándoles el color que queramos gracias a la librería <code>chalk</code>. </p>
<p>Por otro lado, gracias a las funciones asincrónicas de Node.js, podemos crear un servidor que nos permita crear una nota, leer una nota, eliminar una nota y listar las notas. Es decir que el cliente interactúa con el servidor pidiendo una acción y el servidor se encarga de ejecutarla.</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="modules/EjercicioP11_AppCode_NoteManage.html">Ejercicio<wbr/>P11/<wbr/>App<wbr/>Code/<wbr/>Note<wbr/>Manage</a></li><li class=" tsd-kind-module"><a href="modules/EjercicioP11_Client.html">Ejercicio<wbr/>P11/<wbr/>Client</a></li><li class=" tsd-kind-module"><a href="modules/EjercicioP11_Server.html">Ejercicio<wbr/>P11/<wbr/>Server</a></li><li class=" tsd-kind-module"><a href="modules/LAB_Cliente.html">LAB/<wbr/>Cliente</a></li><li class=" tsd-kind-module"><a href="modules/LAB_Servidor.html">LAB/<wbr/>Servidor</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>